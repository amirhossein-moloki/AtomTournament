# راهنمای API تورنومنت برای تیم فرانت‌اند

این مستند به منظور شفاف‌سازی نحوه عملکرد API تورنومنت‌ها و فیلدهایی که در وضعیت‌های مختلف (`status`) بازگردانده می‌شوند، تهیه شده است. هدف از این کار، بهینه‌سازی و کاهش حجم داده‌های غیرضروری است.

## وضعیت‌های مختلف تورنومنت

هر تورنومنت دارای یک فیلد `status` است که می‌تواند یکی از سه مقدار زیر را داشته باشد:

-   `Upcoming`: تورنومنت هنوز شروع نشده است.
-   `Ongoing`: تورنومنت در حال برگزاری است.
-   `Finished`: تورنومنت به پایان رسیده است.

بسته به مقدار این فیلد، مجموعه‌ای از فیلدهای خاص در پاسخ API نمایش داده یا حذف می‌شوند.

---

### ۱. وضعیت: `Upcoming` (آینده)

در این وضعیت، فیلدهای مربوط به **نتایج نهایی** حذف می‌شوند، اما اطلاعات مربوط به **ثبت‌نام** نمایش داده می‌شود.

**فیلدهای حذف شده:**

-   `final_rank`
-   `prize_won`
-   `top_players`
-   `top_teams`

**مثال پاسخ JSON:**

```json
{
  "id": 1,
  "name": "تورنومنت آینده",
  "status": "Upcoming",
  "start_date": "2024-12-01T12:00:00Z",
  "end_date": "2024-12-05T18:00:00Z",
  "spots_left": 50,
  "countdown_start_time": "2024-11-25T12:00:00Z",
  "required_verification_level": 2,
  "min_rank": 10,
  "max_rank": 50,
  // ... سایر فیلدهای عمومی
}
```

---

### ۲. وضعیت: `Ongoing` (در حال برگزاری)

در این وضعیت، هم فیلدهای مربوط به **ثبت‌نام** و هم فیلدهای مربوط به **نتایج نهایی** حذف می‌شوند، زیرا در این مرحله هیچ‌کدام کاربردی ندارند.

**فیلدهای حذف شده:**

-   `spots_left`
-   `countdown_start_time`
-   `required_verification_level`
-   `min_rank`
-   `max_rank`
-   `final_rank`
-   `prize_won`
-   `top_players`
-   `top_teams`

**مثال پاسخ JSON:**

```json
{
  "id": 2,
  "name": "تورنومنت در حال برگزاری",
  "status": "Ongoing",
  "start_date": "2024-11-15T12:00:00Z",
  "end_date": "2024-11-20T18:00:00Z",
  // ... سایر فیلدهای عمومی
}
```

---

### ۳. وضعیت: `Finished` (پایان یافته)

در این وضعیت، فیلدهای مربوط به **ثبت‌نام** حذف شده و اطلاعات مربوط به **نتایج نهایی** نمایش داده می‌شود.

**فیلدهای حذف شده:**

-   `spots_left`
-   `countdown_start_time`
-   `required_verification_level`
-   `min_rank`
-   `max_rank`

**مثال پاسخ JSON:**

```json
{
  "id": 3,
  "name": "تورنومنت پایان یافته",
  "status": "Finished",
  "start_date": "2024-10-01T12:00:00Z",
  "end_date": "2024-10-05T18:00:00Z",
  "final_rank": 5,
  "prize_won": "1500.00",
  "top_players": [
    // ... اطلاعات بازیکنان برتر
  ],
  "top_teams": [
    // ... اطلاعات تیم‌های برتر
  ],
  // ... سایر فیلدهای عمومی
}
```

## خلاصه

تیم فرانت‌اند باید قبل از استفاده از فیلدهای شرطی، ابتدا مقدار `status` را بررسی کرده و سپس بر اساس آن، فیلدهای موجود را در رابط کاربری نمایش دهد. این کار از بروز خطا به دلیل عدم وجود یک فیلد جلوگیری می‌کند.
